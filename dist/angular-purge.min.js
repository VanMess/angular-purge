!function(n){"function"==typeof define&&define.amd?define(["angular"],n):n(window.angular)}(function(n){"use strict";function r(r,t,e){return{request:function(i){var u=null,o=t.requestFormatProperty;return n.isObject(i.data)&&i.hasOwnProperty(o)&&(n.isFunction(i[o])?(u=i[o],i.data=u(i.data)):n.isString(i[o])&&(u=e(i[o]+""),n.isObject(u)&&n.isFunction(u.parse)&&(i.data=u.parse(i.data)))),r.when(i)},response:function(i){var u=null,o=t.responseFormatProperty,a=i.config;return a.hasOwnProperty(o)&&(n.isFunction(a[o])?(u=a[o],i.data=u(i.data)):n.isString(a[o])&&(u=e(a[o]),n.isObject(u)&&n.isFunction(u.parse)&&(i.data=u.parse(i.data)))),r.when(i)}}}var t="vgPurge";n.module(t,[]),n.module(t).provider(t+".config",function(){var r={requestFormatProperty:"paramFormat",responseFormatProperty:"dataFormat"},t={$set:function(t){n.extend(r,t)},$get:function(){return r}};return t}),Object.keys=Object.keys||function(){var n=Object.prototype.hasOwnProperty,r="propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(",");return function(t){var e,i=[];for(e in t)n.call(t,e)&&i.push(e);if(r&&t)for(var u=0;u<r.length;u++)e=r[u++],n.call(t,e)&&i.push(e);return i}}(),n.module(t).provider(t+".enumParser",[function(){function r(n,r){for(var t=Object.keys(n),e=0;e<t.length;e++)if(n.hasOwnProperty(e)&&n[e]===r)return e;return null}var t="default",e={},i={$reg:function(r,t){var i;n.isObject(r)?i=r:(i={},i[r]=t),n.forEach(i,function(n,r,t){e[r]=t})},$get:function(){return function(n,i){var u;return u=i.hasOwnProperty("enum")?function(u){var o,a=n(u);return e.hasOwnProperty(i["enum"])&&(o=e[i["enum"]],a=i.enumReverse?r(o,a):o.hasOwnProperty(a)?o[a]:o[t]),a}:n}}};return i}]).run([t+".parsers",t+".enumParser",function(n,r){n.push(r)}]),n.module(t).provider(t+".typeParser",[function(){var r={string:function(n){return n+""},"int":function(n){return+n},"float":function(n){return+n},date:function(n){return new Date(n)},bool:function(n){return n&&!0}},t={$reg:function(t,e){var i;n.isObject(t)?i=t:(i={},i[t]=e),n.forEach(i,function(n,t,e){r[t]=e})},$get:function(){return function(t,e){var i,u=n.isFunction(e)?e:e.formatter;return i=n.isFunction(u)?function(n){var r=t(n);return u(r,e.format)}:n.isString(e.formatter)&&n.isFunction(r[e.formatter])?function(n){var i=t(n);return r[e.formatter](i,e.format)}:t}}};return t}]).run([t+".parsers",t+".typeParser",function(n,r){n.unshift(r)}]),n.module(t).factory(t+".parsers",[function(){var r=[function(n,r){var t,i;return r.hasOwnProperty("child")?(i=new e(r.child),t=function(r){var t=n(r);return null===t?t:i.parse(t)}):t=n,t},function(r,t){var e;return e=t.hasOwnProperty("defaults")?function(e){var i=r(e);return(n.isUndefined(i)||i+""=="null")&&(i=n.copy(t.defaults)),i}:r}],t={unshift:function(t){n.isFunction(t)&&r.unshift(t)},push:function(t){n.isFunction(t)&&r.push(t)},get:function(){return r}};return t}]),n.module(t).provider(t,[function(){var r={$reg:function(t,e){var u;return n.isObject(t)?u=t:(u={},u[t+""]=e),n.forEach(u,function(n,r){i(r,n)}),r},$get:[t+".parsers",function(n){return e.setChannels(n.get()),i.$$init(),i.get}]};return r}]);var e=function(){function r(n){u=n}function t(n){var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString;return null==n?!0:n+""=="undefined"?!0:r.call(n,"length")&&("[object Array]"===t.call(n)||"[object String]"===t.call(n)||r.call(n,"callee"))?0===n.length:0===Object.keys(n).length}function e(r,e){var i=null;if(!n.isString(e)||t(e))return r;if(n.isObject(r)){e=e.split("."),i=r;for(var u=0;u<e.length;u++){if(!n.isObject(i)||!i.hasOwnProperty(e[u]))return void 0;i=i[e[u]]}return i}return r}function i(r){var t=null;return t=function(n){return e(n,r.mapping)},n.forEach(u,function(n){t=n(t,r)}),t}var u,o=function(r){if(this._parsers={},n.isFunction(r))this._parsers=r;else for(var t in r)this._parsers[t]=n.isFunction(r[t])?r[t]:i(r[t])};return o.prototype={parse:function(r){var t;if(n.isArray(r)){t=[];for(var e=0;e<r.length;e++)t.push(this.$$parse(r[e]))}else t=this.$$parse(r);return t},$$parse:function(r){var t={};if(n.isFunction(this._parsers))t=this._parsers(r);else for(var e in this._parsers)t[e]=this._parsers[e](r);return t}},o.setChannels=r,o}(),i=function(){var r={},t=function(r){var t={};if(n.isFunction(r))t=r;else for(var e in r)n.isUndefined(r[e])||(t[e]=i(e,r[e]));return t},i=function(r,e){var i,u={type:"auto"};return n.isString(e)?i=n.extend({},u,{name:r,mapping:e}):n.isObject(e)&&(i=n.extend({},u,{name:r,mapping:r},e)),e&&e.hasOwnProperty("child")&&n.isObject(e.child)&&(i.child=t(e.child)),i},u=[],o=function(n,i){var o=function(n,i){return function(){var u=n,o=t(i);return r.hasOwnProperty(u),r[u]=new e(o),r[u].id=u,r[u]}}(n,i);u.push(o)};return o.get=function(n){return r[n]instanceof e?r[n]:void 0},o.remove=function(n){r[n]instanceof e&&(r[n]=void 0)},o.clear=function(){r={}},o.$$init=function(){n.forEach(u,function(n){n()}),u=[]},o}();n.module(t).config(["$httpProvider",function(n){n.interceptors.push(["$q",t+".config",t,r])}])});